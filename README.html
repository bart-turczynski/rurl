<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
box-sizing: border-box;
min-width: 200px;
max-width: 980px;
margin: 0 auto;
padding: 45px;
padding-top: 0px;
}
</style>


</head>

<body>

<h1 id="rurl">rurl</h1>
<h1 id="rurl-1">rurl</h1>
<p><code>rurl</code> is a small, pipe-friendly, and vectorized R package
that helps you construct, parse, and clean URLs from various components.
It is designed to make URL manipulation and HTTP endpoint generation
readable, composable, and easy to integrate into modern R workflows.</p>
<p>It includes helpers to: - Get cleaned URLs with fine-grained control
over protocols, ‘www’ prefixes, letter casing, and trailing slashes. -
Extract domains, paths, schemes, hosts, and top-level domains (TLDs). -
Normalize, strip, or enforce specific protocols. - Handle ‘www’ prefixes
in hostnames.</p>
<h2 id="installation">Installation</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Install from GitHub</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="co"># devtools::install_github(&quot;bart-turczynski/rurl&quot;)</span></span></code></pre></div>
<h2 id="core-functionality">Core Functionality</h2>
<p>The primary workhorse of the package is
<code>safe_parse_url()</code>. This function comprehensively parses a
URL and allows for various transformations. It returns a detailed list
of URL components and a cleaned URL string.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(rurl)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co"># Example of detailed parsing and transformation</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>parsed_details <span class="ot">&lt;-</span> <span class="fu">safe_parse_url</span>(</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>  <span class="st">&quot;Http://Www.Example.Com/Some/Path/?Query=1#Frag&quot;</span>,</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  <span class="at">protocol_handling =</span> <span class="st">&quot;https&quot;</span>,      <span class="co"># Force https</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  <span class="at">www_handling =</span> <span class="st">&quot;strip&quot;</span>,         <span class="co"># Remove www</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>  <span class="at">case_handling =</span> <span class="st">&quot;lower&quot;</span>,        <span class="co"># Convert to lowercase (new default)</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>  <span class="at">trailing_slash_handling =</span> <span class="st">&quot;strip&quot;</span> <span class="co"># Remove trailing slash</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>)</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="co"># The cleaned URL (scheme, host, path only by default)</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="fu">print</span>(parsed_details<span class="sc">$</span>clean_url)</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="co">#&gt; [1] &quot;https://example.com/some/path&quot;</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="co"># Full list of parsed and derived components</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="co"># print(parsed_details)</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="co"># Output would include:</span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="co"># $original_url: &quot;Http://Www.Example.Com/Some/Path/?Query=1#Frag&quot;</span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="co"># $scheme: &quot;https&quot;</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="co"># $host: &quot;example.com&quot;</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="co"># $port: NULL (or parsed port if present and not stripped)</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="co"># $path: &quot;/some/path&quot; (after trailing slash handling)</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="co"># $query: &quot;Query=1&quot;</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="co"># $fragment: &quot;Frag&quot;</span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a><span class="co"># $domain: &quot;example.com&quot;</span></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a><span class="co"># $tld: &quot;com&quot;</span></span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a><span class="co"># $is_ip_host: FALSE</span></span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a><span class="co"># $clean_url: &quot;https://example.com/some/path&quot;</span></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a><span class="co"># $parse_status: &quot;ok&quot;</span></span></code></pre></div>
<p>Most other exported functions are convenient wrappers around
<code>safe_parse_url()</code> to extract specific parts of a URL or just
the <code>clean_url</code> string.</p>
<h2 id="examples-of-helper-functions">Examples of Helper Functions</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">library</span>(rurl)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># Get cleaned URL with specific handling</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Note: case_handling defaults to &quot;lower&quot;, trailing_slash_handling to &quot;none&quot;</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="fu">get_clean_url</span>(<span class="st">&quot;Http://Example.Com/MyPath/&quot;</span>)</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co">#&gt; [1] &quot;http://example.com/mypath/&quot;</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="fu">get_clean_url</span>(<span class="st">&quot;Http://Example.Com/MyPath/&quot;</span>,</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>              <span class="at">case_handling =</span> <span class="st">&quot;keep&quot;</span>,</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>              <span class="at">trailing_slash_handling =</span> <span class="st">&quot;strip&quot;</span>)</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Http://example.com/MyPath&quot;</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="fu">get_clean_url</span>(<span class="st">&quot;ftp://Sub.Example.ORG/anotherPath&quot;</span>,</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>              <span class="at">protocol_handling =</span> <span class="st">&quot;strip&quot;</span>, <span class="co"># Removes ftp://</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>              <span class="at">www_handling =</span> <span class="st">&quot;keep&quot;</span>,       <span class="co"># Ensures www.</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a>              <span class="at">case_handling =</span> <span class="st">&quot;upper&quot;</span>,     <span class="co"># Converts to uppercase</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a>              <span class="at">trailing_slash_handling =</span> <span class="st">&quot;keep&quot;</span>) <span class="co"># Ensures trailing slash</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="co">#&gt; [1] &quot;WWW.EXAMPLE.ORG/ANOTHERPATH/&quot;</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="fu">get_clean_url</span>(<span class="st">&quot;example.com:8080/path&quot;</span>, <span class="at">trailing_slash_handling =</span> <span class="st">&quot;keep&quot;</span>)</span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a><span class="co">#&gt; [1] &quot;http://example.com/path/&quot; # Port is not part of clean_url by default</span></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a><span class="co"># Extracting specific components</span></span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a><span class="fu">get_domain</span>(<span class="st">&quot;https://sub.example.co.uk/page&quot;</span>)</span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a><span class="co">#&gt; [1] &quot;example.co.uk&quot;</span></span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a><span class="fu">get_scheme</span>(<span class="st">&quot;Example.com/Test&quot;</span>, <span class="at">protocol_handling =</span> <span class="st">&quot;https&quot;</span>)</span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a><span class="co">#&gt; [1] &quot;https&quot;</span></span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a><span class="fu">get_scheme</span>(<span class="st">&quot;Example.com/Test&quot;</span>, <span class="at">protocol_handling =</span> <span class="st">&quot;none&quot;</span>) <span class="co"># No scheme forced or kept</span></span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a><span class="co">#&gt; [1] NA</span></span>
<span id="cb3-33"><a href="#cb3-33" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" tabindex="-1"></a><span class="co"># Host is lowercased due to default case_handling in the underlying safe_parse_url call</span></span>
<span id="cb3-35"><a href="#cb3-35" tabindex="-1"></a><span class="fu">get_host</span>(<span class="st">&quot;Http://User:Pass@MyHost.Com:8080/SomeWhere&quot;</span>)</span>
<span id="cb3-36"><a href="#cb3-36" tabindex="-1"></a><span class="co">#&gt; [1] &quot;myhost.com&quot;</span></span>
<span id="cb3-37"><a href="#cb3-37" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" tabindex="-1"></a><span class="co"># Path is lowercased; trailing slash from input is preserved with trailing_slash_handling = &quot;none&quot; (default)</span></span>
<span id="cb3-39"><a href="#cb3-39" tabindex="-1"></a><span class="fu">get_path</span>(<span class="st">&quot;HTTP://EXAMPLE.NET/A/B/C/?p=1&quot;</span>)</span>
<span id="cb3-40"><a href="#cb3-40" tabindex="-1"></a><span class="co">#&gt; [1] &quot;/a/b/c/&quot;</span></span>
<span id="cb3-41"><a href="#cb3-41" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" tabindex="-1"></a><span class="fu">get_tld</span>(<span class="st">&quot;www.sub.example.co.uk&quot;</span>)</span>
<span id="cb3-43"><a href="#cb3-43" tabindex="-1"></a><span class="co">#&gt; [1] &quot;co.uk&quot;</span></span>
<span id="cb3-44"><a href="#cb3-44" tabindex="-1"></a></span>
<span id="cb3-45"><a href="#cb3-45" tabindex="-1"></a><span class="fu">get_parse_status</span>(<span class="st">&quot;mailto:test@example.com&quot;</span>)</span>
<span id="cb3-46"><a href="#cb3-46" tabindex="-1"></a><span class="co">#&gt; [1] &quot;error&quot;</span></span>
<span id="cb3-47"><a href="#cb3-47" tabindex="-1"></a><span class="fu">get_parse_status</span>(<span class="st">&quot;http://example.com&quot;</span>)</span>
<span id="cb3-48"><a href="#cb3-48" tabindex="-1"></a><span class="co">#&gt; [1] &quot;ok&quot;</span></span>
<span id="cb3-49"><a href="#cb3-49" tabindex="-1"></a></span>
<span id="cb3-50"><a href="#cb3-50" tabindex="-1"></a><span class="co"># Handling Subdomain Levels</span></span>
<span id="cb3-51"><a href="#cb3-51" tabindex="-1"></a></span>
<span id="cb3-52"><a href="#cb3-52" tabindex="-1"></a>Functions like <span class="st">`</span><span class="at">get_host()</span><span class="st">`</span> and <span class="st">`</span><span class="at">get_clean_url()</span><span class="st">`</span> also support the <span class="st">`</span><span class="at">subdomain_levels_to_keep</span><span class="st">`</span> argument.</span>
<span id="cb3-53"><a href="#cb3-53" tabindex="-1"></a>This provides control over how many subdomain levels are kept <span class="cf">in</span> the host <span class="sc">*</span>after<span class="sc">*</span> <span class="st">`</span><span class="at">www_handling</span><span class="st">`</span>.</span>
<span id="cb3-54"><a href="#cb3-54" tabindex="-1"></a></span>
<span id="cb3-55"><a href="#cb3-55" tabindex="-1"></a><span class="co"># `NULL` (default): keeps all subdomains (beyond www handling).</span></span>
<span id="cb3-56"><a href="#cb3-56" tabindex="-1"></a><span class="co"># `0`: strips all subdomains (e.g., `one.two.example.com` becomes `example.com`).</span></span>
<span id="cb3-57"><a href="#cb3-57" tabindex="-1"></a><span class="co"># `N &gt; 0`: keeps N levels of subdomains (e.g., `one.two.example.com` with N=1 becomes `two.example.com`).</span></span>
<span id="cb3-58"><a href="#cb3-58" tabindex="-1"></a></span>
<span id="cb3-59"><a href="#cb3-59" tabindex="-1"></a><span class="co"># With `www_handling = &quot;strip&quot;` and `subdomain_levels_to_keep = 1`:</span></span>
<span id="cb3-60"><a href="#cb3-60" tabindex="-1"></a><span class="fu">get_host</span>(<span class="st">&quot;http://www.three.two.one.example.com&quot;</span>, <span class="at">www_handling =</span> <span class="st">&quot;strip&quot;</span>, <span class="at">subdomain_levels_to_keep =</span> <span class="dv">1</span>)</span>
<span id="cb3-61"><a href="#cb3-61" tabindex="-1"></a><span class="co">#&gt; [1] &quot;one.example.com&quot;</span></span>
<span id="cb3-62"><a href="#cb3-62" tabindex="-1"></a></span>
<span id="cb3-63"><a href="#cb3-63" tabindex="-1"></a><span class="co"># With `subdomain_levels_to_keep = 0` (default `www_handling` is `&quot;none&quot;`):</span></span>
<span id="cb3-64"><a href="#cb3-64" tabindex="-1"></a><span class="fu">get_clean_url</span>(<span class="st">&quot;http://www.deep.sub.example.com/path&quot;</span>, <span class="at">subdomain_levels_to_keep =</span> <span class="dv">0</span>)</span>
<span id="cb3-65"><a href="#cb3-65" tabindex="-1"></a><span class="co">#&gt; [1] &quot;http://www.example.com/path&quot;</span></span></code></pre></div>
<h2 id="data-sources">Data Sources</h2>
<p>This package includes a processed copy of the <a href="https://publicsuffix.org/">Public Suffix List (PSL)</a>, used to
extract registered domains and top-level domains. It is updated manually
via <code>data-raw/update_psl.R</code>. The original list is maintained
by Mozilla and hosted at: <a href="https://publicsuffix.org/list/public_suffix_list.dat">https://publicsuffix.org/list/public_suffix_list.dat</a>
The data is included in accordance with the <a href="https://github.com/publicsuffix/list/blob/main/LICENSE">Mozilla
Public License 2.0</a> and is never downloaded at runtime. See
<code>inst/LICENSE.psl</code> for full license text.</p>
<p>To refresh it:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># From the root of the package:</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;data-raw/update_psl.R&quot;</span>)</span></code></pre></div>
<p>This regenerates the internal <code>sysdata.rda</code> file used for
domain parsing.</p>
<h2 id="license">License</h2>
<p>MIT © 2025 Bart Turczynski</p>

</body>
</html>
